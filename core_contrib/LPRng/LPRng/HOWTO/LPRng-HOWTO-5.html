<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> LPRng-HOWTO: LPRng Clients - lpr, lprm, lpq, lpc, lpstat</TITLE>
 <LINK HREF="LPRng-HOWTO-6.html" REL=next>
 <LINK HREF="LPRng-HOWTO-4.html" REL=previous>
 <LINK HREF="LPRng-HOWTO.html#toc5" REL=contents>
</HEAD>
<BODY>
<A HREF="LPRng-HOWTO-6.html">Next</A>
<A HREF="LPRng-HOWTO-4.html">Previous</A>
<A HREF="LPRng-HOWTO.html#toc5">Contents</A>
<HR>
<H2><A NAME="lprngclients"></A> <A NAME="s5">5. LPRng Clients - lpr, lprm, lpq, lpc, lpstat</A></H2>

<P>The LPRng software is a true set of client/server applications.
The LPRng clients,
<CODE>lpr, lprm, lpq,</CODE> and <CODE>lpc</CODE> connect to a <CODE>lpd</CODE> server using a
TCP/IP connection.
This means that you must have TCP/IP networking enabled on your workstation
to use LPRng.
<P>However,
you do not need to have an external network connection to the Internet.
For most single system users,
the <CODE>lpd</CODE> server is running on the same workstation as the client program,
and the clients will simply talk to the <CODE>localhost</CODE>.
<H2><A NAME="lpccommands"></A> <A NAME="ss5.1">5.1 LPC Commands</A>
</H2>

<P>The
<CODE>lpc</CODE> command is the main way that the <CODE>lpd</CODE> server
is controlled.
Here is the help information displayed by the command:
<BLOCKQUOTE><CODE>
<PRE>
h4: {186} % lpc -=
lpc: Illegal option '='
usage: lpc [-Ddebuglevel][-Pprinter][-Shost][-Uusername][-V] [command]
 with no command, reads from stdin
  -Ddebuglevel - debug level
  -Pprinter    - printer or printer@host
  -Shost       - connect to lpd server on host
  -Uuser       - identify command as coming from user
  -V           - increase information verbosity
 commands:
 active    (printer[@host])        - check for active server
 abort     (printer[@host] | all)  - stop server
 class     printer[@host] (class | off)      - show/set class printing
 disable   (printer[@host] | all)  - disable queueing
 debug     (printer[@host] | all) debugparms - set debug level for printer
 down      (printer[@host] | all)  - disable printing and queueing
 enable    (printer[@host] | all)  - enable queueing
 hold      (printer[@host] | all) (name[@host] | job | all)*   - hold job
 holdall   (printer[@host] | all)  - hold all jobs on
 kill      (printer[@host] | all)  - stop and restart server
 lpd       (printer[@host]) - get LPD PID
 lpq       (printer[@host] | all) (name[@host] | job | all)*   - invoke LPQ
 lprm      (printer[@host] | all) (name[@host]|host|job| all)* - invoke LPRM
 msg printer message text  - set status message
 move printer (user|jobid)* target - move jobs to new queue
 noholdall (printer[@host] | all)  - hold all jobs off
 printcap  (printer[@host] | all)  - report printcap values
 quit                              - exit LPC
 redirect  (printer[@host] | all) (printer@host | off )*       - redirect jobs
 redo      (printer[@host] | all) (name[@host] | job | all)*   - release job
 release   (printer[@host] | all) (name[@host] | job | all)*   - release job
 reread    (printer[@host])        - LPD reread database information
 start     (printer[@host] | all)  - start printing
 status    (printer[@host] | all)  - status of printers
 stop      (printer[@host] | all)  - stop  printing
 topq      (printer[@host] | all) (name[@host] | job | all)*   - reorder job
 up        (printer[@host] | all) - enable printing and queueing
   diagnostic:
      defaultq               - show default queue for LPD server
      defaults               - show default configuration values
      client  (printer | all) - client config and printcap information
      server (printer | all) - server config and printcap
</PRE>
</CODE></BLOCKQUOTE>
<P>Most of the <CODE>lpc</CODE> command line options are common to all
<A HREF="#lprngclients">LPRng Clients</A>,
with the exception of the <CODE>-S server</CODE> option.
This option allows the <CODE>lpd</CODE> host to be explicitly specified.
<P>The <CODE>lpc</CODE> commands can be classified as
<I>informational</I>,
<I>queue management</I>,
<I>problem management</I>,
<I>job scheduling</I>,
and
<I>diagnostic</I>.
<H3>Informational Commands - status, active, reread</H3>

<P>Each spool queue has a
<A HREF="LPRng-HOWTO-10.html#queue_control_file">Spool Control File</A>,
and the <CODE>lpc status</CODE> command
displays selected values from this file.
<P>The <CODE>lpc active</CODE> command connects to the print server and
gets the Process ID of the <CODE>lpd</CODE> process.
This is useful to determine if the <CODE>lpd</CODE> server is running
on the print server.
<P>The <CODE>reread</CODE>
command connects to the <CODE>lpd</CODE> print server and requests
that the server reread the
<CODE>printcap</CODE>,
<CODE>lpd.conf</CODE>,
and
<CODE>lpd.perms</CODE> database files.
<H3>Queue Management - enable, disable, up, down</H3>

<P>The <CODE>enable</CODE> and <CODE>disable</CODE>
commands enable and disable <I>queuing</I> or sending jobs to the
print queue.
The <CODE>up</CODE> command combines the <CODE>enable</CODE> and <CODE>start</CODE> commands
while
the <CODE>down</CODE> command combines the <CODE>disable</CODE> and <CODE>stop</CODE> commands.
<H3>Printing Management - start, stop, up, down</H3>

<P>These commands are used to start and stop printing.
The <CODE>up</CODE> combines <CODE>start</CODE> and <CODE>enable</CODE>
and <CODE>down</CODE> combines <CODE>stop</CODE> and <CODE>disable</CODE>.
<H3>Problem Management - abort, redo, kill</H3>

<P>These commands are usually used when there is a problem
printing a job.
The <CODE>abort</CODE>
command is used to kill off all printing activity
associated with a job.
It also has the side effect of stopping printing on the print queue.
The <CODE>redo</CODE>
command  will redo or attempt to reprint a job.
The <CODE>kill</CODE> command combines the abort and redo command,
and is useful when there are problems with the job currently being printed
and it should be reprinted.
<H3>Job Scheduling - topq, holdall, noholdall, hold, release</H3>

<P>The <CODE>topq</CODE> command effictively puts the select job or jobs at the top
of the queue for printing.
<P>The <CODE>holdall</CODE>,
<CODE>noholdall</CODE>,
and
<CODE>release</CODE>
commands implement a simple holding queue for jobs.
By default,
<CODE>holdall</CODE> is disabled.
When the <CODE>holdall</CODE> command enables it,
then jobs will remain in the spool queue until explicitly released
with the <CODE>release</CODE> command.
<P>The <CODE>hold</CODE> command can also be used to hold individual jobs
until released.
<P>
<H3>Queue Management - class, redirect, move</H3>

<P>The <CODE>class</CODE> command is used to restrict printing to jobs
whose class value,
set using the <CODE>lpr -C class</CODE> option,
is in the class list or matches one of the classes.
This allows the administrator to restrict printing.
For more details and an example of its use,
see Form Support.
<P>The <CODE>redirect</CODE> command allows the administrator to accepts jobs
at this queue and then to have them forwarded or redirected
to another print queue.
This is useful when a printer temporarily is unavailable.
<P>The <CODE>move</CODE> command allows an individual job (or jobs)
to be forwarded or redirected to another print queue.
<HR>
<A HREF="LPRng-HOWTO-6.html">Next</A>
<A HREF="LPRng-HOWTO-4.html">Previous</A>
<A HREF="LPRng-HOWTO.html#toc5">Contents</A>
</BODY>
</HTML>
