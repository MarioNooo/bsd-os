.\" Copyright (c) 1980, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)csh.1	8.2 (Berkeley) 1/21/94
.\"
.Dd June 5, 1993
.Dt LIMIT 1
.Os BSD 4
.Sh NAME
.Nm limit, unlimit
.Nd change process limits
.Sh SYNOPSIS
.Nm limit
.Op Fl h
.Op Ar resource Op maximum-use
.Nm unlimit 
.Op Ar resource
.Sh DESCRIPTION
The
.Nm limit
command limits the consumption by the current process and each process
it creates to not individually exceed
.Ar maximum-use
of the specified
.Ar resource  .
If
.Ar maximum-use
is not specified, then the current limit is printed; if
.Ar resource
is not specified, then the current limits on all resources are displayed.
.Pp
The
.Nm unlimit
command sets the consumption of the specified resource by the current
process and each process it creates to the maximum value, or unlimited
if there is no maximum value.
If
.Ar resource
is not specified,
then the limits on all resources are set to their maximum value.
.Pp
The following options are available:
.Bl -tag -width indent                
.It Fl h
If the
.Fl h
option is specified,
the hard limits are used instead of the current limits.
The hard limits impose a ceiling on the values of the current limits.
Only the super-user may raise the hard limits,
but a user may lower or raise the current limits within the legal range.
.El
.Pp
Controllable resources include:
.Bl -tag -width indent
.It coredumpsize
The largest size core file that may be created.
.It cputime
The maximum amount of cpu time to be used by each process.
.It datasize
The maximum size of the data segment for a process; this defines how far
a program may extend its break with the
.Xr sbrk 2
system call.
.It filesize
The largest size file that may be created.
.It maxproc
The maximum number of simultaneous processes for this user id.
.It memorylocked
The maximum size which a process may lock into memory using the
.Xr mlock 2
function.
.It memoryuse
The maximum size to which a process's resident set size may grow.
This imposes a limit on the amount of physical memory to be given to a
process; if memory is tight,
the system will prefer to take memory from processes that are exceeding
their declared resident set size.
.It openfiles
The maximum number of open files for this process.
.It stacksize
The maximum size of the stack segment for a process; this defines how far
a program's stack segment may be extended.
Stack extension is performed automatically by the system.
.El
.Pp
The
.Ar maximum-use
argument may be specified as a (floating point or integer) number
followed by a scale factor.
For all limits other than
.Ar cputime ,
the default scale is
.Dq \&k
or
.Dq kilobytes
(1024 bytes).
A scale factor of
.Dq \&m
or
.Dq megabytes
may also be used.
For
.Ar cputime
the default scale is
.Dq seconds ;
a scale factor of
.Dq m
(for minutes)
or
.Dq h
(for hours),
or a time of the form
.Dq mm:ss
giving minutes and seconds also may be used.
.Pp
For both
.Ar resource
names and scale factors,
unambiguous prefixes of the names suffice.
.Pp
The
.Nm limit
and
.Nm unlimit
utilities exit 0 on success, and >0 if an error occurs.
.Sh BUGS
The
.Nm limit
and
.Nm unlimit
commands are only available in
.Xr sh 1
and
.Xr csh 1 .
.Sh SEE ALSO
.Xr csh 1 ,
.Xr sh 1
